<!doctype html>
<html lang="nl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Overzicht - Mitchell</title>

  <!-- Basis styles -->
  <link rel="stylesheet" href="/styles.css">

  <!-- ✅ Profiel-widget styles -->
  <link rel="stylesheet" href="/assets/profile-widget.css">
</head>

<script type="module">
  import { supabase } from "/login/js/supabaseClient.js";

  // Controleer of gebruiker ingelogd is
  const { data: { session } } = await supabase.auth.getSession();
  if (!session) {
    const next = window.location.pathname + window.location.search + window.location.hash;
    localStorage.setItem("mf-next", next);
    window.location.href = `/login/?next=${encodeURIComponent(next)}`;
  }
</script>

<body>
  <div id="navbar"></div>

  <main>
    <h1>Mitchell Hop</h1>
    <p>Hier komt het persoonlijke schema van Mitchell.</p>

    <!-- ✅ Profiel-widget -->
    <section class="profile-card" data-profile-widget data-person="mitchell">
      <div class="profile-card__header">Welkom Mitchell</div>
      <div class="profile-card__panel">
        <div class="profile-card__grid">
          <div>
            <div class="profile-card__avatar" data-field="photo">
              <img alt="Profielfoto" style="display:none"/>
              <svg width="96" height="96" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path d="M4 7h4l2-2h4l2 2h4v12H4z"/><circle cx="12" cy="13" r="4"/>
              </svg>
            </div>
            <input class="profile-card__avatar-upload" type="file" accept="image/*" data-field="photo-input">
            <p class="profile-muted">Mogelijkheid om foto toe te voegen</p>
          </div>

          <div>
            <div class="profile-card__label">voornaam</div>
            <input class="profile-card__input" placeholder="hier kun je je voornaam invoeren" data-field="firstName">

            <div class="profile-card__label" style="margin-top:14px">achternaam</div>
            <input class="profile-card__input" placeholder="hier kun je je achternaam invoeren" data-field="lastName">

            <div class="profile-card__row" style="margin-top:14px">
              <div style="width:100%">
                <div class="profile-card__label">lengte</div>
                <input class="profile-card__input" placeholder="hier kun je je lengte invullen" data-field="heightCm">
              </div>
              <div class="profile-card__unit">cm</div>
            </div>

            <div class="profile-card__row">
              <div style="width:100%">
                <div class="profile-card__label">gewicht</div>
                <input class="profile-card__input" placeholder="hier kun je je gewicht invullen" data-field="weightKg">
                <div class="profile-card__sub">automatische komma (86,5)</div>
              </div>
              <div class="profile-card__unit">kg</div>
            </div>

            <div class="profile-card__row">
              <div style="width:100%">
                <div class="profile-card__label">caloriebehoefte</div>
                <input class="profile-card__input" placeholder="laatst opgeslagen caloriebehoefte" data-field="caloriesKcal">
                <div class="profile-card__sub">pakt de laatst opgeslagen waarde</div>
              </div>
              <div class="profile-card__unit">kcal</div>
            </div>

            <div class="profile-card__row">
              <div style="width:100%">
                <div class="profile-card__label">workouts voltooid</div>
                <div class="profile-card__workouts">
                  <div class="profile-badge" data-field="workoutsCompleted">0</div>
                  <button class="profile-btn profile-btn--ghost" data-action="inc-workouts" type="button">+1</button>
                </div>
                <div class="profile-card__sub">Tel +1 wanneer een workout is afgerond</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="profile-card__label" style="text-align:center;margin-top:18px">workouts</div>
      <div class="profile-card__chips">
        <a class="profile-chip" data-day="maandag">maandag</a>
        <a class="profile-chip" data-day="dinsdag">dinsdag</a>
        <a class="profile-chip" data-day="/woensdag">woensdag</a>
        <a class="profile-chip" data-day="donderdag">donderdag</a>
        <a class="profile-chip" data-day="vrijdag">vrijdag</a>
        <a class="profile-chip" data-day="aterdag">zaterdag</a>
        <a class="profile-chip" data-day="zondag">zondag</a>
      </div>
    </section>
  </main>

  <script src="/nav.js"></script>

  <!-- ✅ Profiel-widget script -->
  <script src="/assets/profile-widget.js"></script>
</body>
</html>
