<!doctype html>
<html lang="nl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Workout – Zondag | Mitchell</title>

  <!-- Basis styles -->
  <link rel="stylesheet" href="/styles.css">

  <!-- Profiel-widget styles (gedeelde styling) -->
  <link rel="stylesheet" href="/assets/profile-widget.css">
</head>

<script type="module">
  import { supabase } from "/login/js/supabaseClient.js";

  // Controleer loginstatus
  const { data: { session } } = await supabase.auth.getSession();
  if (!session) {
    const next = window.location.pathname + window.location.search + window.location.hash;
    localStorage.setItem("mf-next", next);
    window.location.href = `/login/?next=${encodeURIComponent(next)}`;
  }
</script>

<body>
  <div id="navbar"></div>

  <main class="container">
    <h1>Workout – Zondag</h1>
    <p class="muted">Hier komt de zondag-workout van Mitchell.</p>

    <section class="card" style="margin-top:24px; padding:20px; border-radius:16px; background:#fff; border:1px solid #e5e7eb;">
      <h2>Schema</h2>
      <ul style="line-height:1.7;">
        <li>Oefening 1 – sets × herhalingen</li>
        <li>Oefening 2 – sets × herhalingen</li>
        <li>Oefening 3 – sets × herhalingen</li>
        <li>Finisher / Core</li>
      </ul>

      <button id="completeWorkoutBtn" class="profile-btn" style="margin-top:16px;">Workout afronden</button>
      <p id="doneMsg" class="muted" style="display:none; margin-top:8px;">✅ Workout afgerond!</p>
    </section>
  </main>

  <script src="/nav.js"></script>
  <script src="/assets/profile-widget.js"></script>

  <script>
    // Als workout afgerond wordt → verhoog teller in profiel
    const btn = document.getElementById('completeWorkoutBtn');
    const msg = document.getElementById('doneMsg');
    if (btn) {
      btn.addEventListener('click', () => {
        ProfileWidget.incrementWorkouts('mitchell');
        msg.style.display = 'block';
      });
    }
  </script>
</body>
</html>
